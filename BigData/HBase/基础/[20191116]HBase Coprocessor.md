

在 HBase 中，我们使用 Get 或 Scan 来获取数据，而在 RDBMS 中，我们使用 SQL 语句查询。为了仅获取相关的数据，我们会使用 HBase Filter 对其进行过滤，而在 RDBMS 中，我们会使用 WHERE 进行过滤。

在获取数据后，我们才开始对其进行计算，这个情况对于具有数千行以及几列的'小数据'可能非常适用。但是，当我们的数据扩大到数十亿行以及数百万列时，在网络上传输这么大量数据将会对网络层造成瓶颈，并且客户端需要有足够多的内存来处理与计算这么大量数据。此外，客户端代码可能也会变得庞大而复杂。

协处理器可以解决上述情况。我们可以将业务计算代码放在协处理器中，从而可以在 RegionServer 上运行，然后将结果返回给客户端。协处理器与数据位于相同位置(数据本地性)。

这只是使用协处理器带来的一种好处。以下是一些类推，可能有助于解释协处理器的某些好处。

### 2. 协处理器类别

#### 2.1 触发器和存储过程

Observer 协处理器类似于 RDBMS 中的触发器，因为可以在特定事件（例如 Get 或 Put）发生之前或之后执行代码。Endpoint 协处理器类似于 RDBMS 中的存储过程，因为可以允许我们对在 RegionServer 而不是客户端上的数据执行自定义计算。

#### 2.2 MapReduce

MapReduce 的工作原理是将计算移动到数据所在的位置。协处理器以相同的原理运行。

#### 2.3 AOP

如果你熟悉 AOP (Aspect Oriented Programming)，可以将协处理器视为通过在将请求传递给最终目的地（甚至更改目的地）之前拦截请求然后运行一些自定义代码来应用建议。



















原文:[]()
