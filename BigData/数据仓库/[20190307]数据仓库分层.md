
问题：
- 数据使用比较乱，大多数都是直接从原始数据直接计算。
- 各种重复计算，严重浪费了计算资源。

### 1. 为什么分层

我们对数据进行分层的一个主要原因就是希望在管理数据的时候，能对数据有一个更加清晰的掌控，详细来讲，主要有下面几个原因：
- 清晰数据结构：每一个数据分层都有它的作用域，这样我们在使用表的时候能更方便地定位和理解。
- 数据血缘追踪：简单来讲可以这样理解，我们最终给业务诚信的是一能直接使用的张业务表，但是它的来源有很多，如果有一张来源表出问题了，我们希望能够快速准确地定位到问题，并清楚它的危害范围。
- 减少重复开发：规范数据分层，开发一些通用的中间层数据，能够减少极大的重复计算。
- 把复杂问题简单化。讲一个复杂的任务分解成多个步骤来完成，每一层只处理单一的步骤，比较简单和容易理解。而且便于维护数据的准确性，当数据出现问题之后，可以不用修复所有的数据，只需要从有问题的步骤开始修复。
- 屏蔽原始数据的异常。
- 屏蔽业务的影响，不必改一次业务就需要重新接入数据。




dwd
- 清洗；重复；异常值；非业务需要；
- 业务口径统一 上层场景统计不受变化影响。
- 字段统一化
- 公共逻辑处理
- 异常数据处理 统一规则
- 解析与结构化
- 合并相似数据
- 关联相似数据

dwm
- 明细数据


版本协议：
分模块切换/整体切换


数据消费：
- 数据服务
- 报表平台












dd
