
你会根据一分钟前的交通信号灯过马路吗？当然不会！当前，现代企业或者出于竞争上的压力，或者因为企业的客户对产品或服务的交互方式有着更高的期望，它们也面对着同样的需求。

如果人们在iPad上轻点按钮就可以租赁和观看最新的影片，那么为什么还要因为银行账户吃紧而必须等待数小时？

数据在现代企业中处于核心地位，数据的量也在不断增加中，并且持续快速变化。流处理技术正是支持企业实时利用这些洪流信息的一种技术。目前为重新塑造自身的业务，Netflix、奥迪、PayPal、Airbnb、Uber和纽约时报等上万家企业已经选择了Apache Kafka®作为流处理平台的事实标准。

人们的很多日常活动，例如阅读报纸、在线购物、预订酒店或航班、搭乘出租车、玩电子游戏或是拨打电话，其后台都已由Kafka提供支持。

### 1. 为什么需要流处理？

为了说明流处理技术的作用，我在此给出一个适用于多个不同行业的很好例子。假设我们需要去实时创建并维护客户的全面档案。这样做出于很多的原因，包括：
- 为创造更好的客户体验。例如，“这位高级客户在过去五分钟内尝试多次结账购物车，但由于我们最近的网站更新错误而产生失败。因此，我们需要立即向该客户提供折扣，并对所造成的不良用户体验致歉。”
- 为尽量降低风险。例如，“这笔新的付款操作似乎存在欺诈。因为该付款是在美国境外发起的，但客户的手机应用报告她身处纽约市。我们应立即阻止这笔付款，并第一时间联系该客户。”

该用例需要实时汇集来自各种内部渠道的以及一些可能外部渠道的数据，然后将这些信息整合到全面客户档案（也称为客户的“360度档案”）中。而且一旦任何渠道有新的信息可用，档案都会得到立即更新。

下图描绘了我们如何使用Kafka实现该用例的高层设置。其中，客户数据从各种来源的数据流中持续收集。全面客户档案保持在表中，表根据这些数据来源构建并持续更新。所有这些操作都是实时的，并具有一定的规模。


















原文：http://www.infoq.com/cn/articles/democratizing-stream-processing-apache-kafka-ksql
