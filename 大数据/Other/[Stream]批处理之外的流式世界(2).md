---
layout: post
author: sjf0115
title: Stream 批处理之外的流式世界(2)
date: 2018-01-09 17:54:01
tags:
  - Stream

categories: Stream
---

### 1. 总结和路线图

在[Streaming 101](https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-101)中，我们首先澄清了一些术语。然后我开始区分有限数据和无限数据。有限数据源的大小是有限的，通常被称为`batch`数据。无限数据源可能具有无限大小，并且通常被称为`streaming`数据。我尽量避免使用`batch`和`streaming`术语来指代数据源，因为这些名称带有一些误导并经常受到限制。

然后，我继续定义了批处理引擎和流引擎之间的区别：批处理引擎是那些仅为有限数据而设计的引擎，而流引擎是设计时考虑到了无限数据。我的目标是在引用执行引擎时只使用`batch`和`streaming`术语。

在术语之后，我介绍了与处理无限数据有关的两个重要概念。我首先确定了`事件时间`(事件发生的时间)和`处理时间`(处理期间观察到时间)之间的关键区别。这为[Streaming 101](https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-101)提出的主要论点之一提供了基础：如果你关心事件实际发生的正确性和上下文，则必须分析与固有事件时间相关的数据，而不是分析它们的在处理过程中遇到处理时间。

然后，我介绍了窗口的概念(即，将数据集按时间界线划分)，这是一种常见的方法，用于处理无限数据源在技术上永远不会结束的事实。窗口化策略中比较简单的是固定窗口的和滑动窗口，也还有更复杂的窗口类型，例如会话窗口(其中窗口由数据本身的特征定义，例如捕获每个用户的活动会话，紧跟不活跃的间隙)应用也比较广泛。

除了这两个概念之外，我们现在要仔细研究一下三个概念：
- `Watermarks`是关于事件时间输入完整性的概念。具有时间X值的`watermark`表示：`已经观察到所有输入数据并且事件时间小于X`。因此，当不知道无限数据源什么时候结束时，`watermark`就用作进度的度量。
- `Triggers`
- `Accumulation`
